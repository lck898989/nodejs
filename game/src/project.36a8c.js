window.__require=function t(o,e,n){function r(c,s){if(!e[c]){if(!o[c]){var a=c.split("/");if(a=a[a.length-1],!o[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}}var l=e[c]={exports:{}};o[c][0].call(l.exports,function(t){return r(o[c][1][t]||t)},l,l.exports,t,o,e,n)}return e[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({AStar:[function(t,o,e){"use strict";cc._RF.push(o,"e22329HPShGfLpTd2tsF7SD","AStar"),Object.defineProperty(e,"__esModule",{value:!0});var n=t("../Global"),r=function(){function t(){this.openList=[],this.closedList=[],this.isEnd=!1,this.qifa=this.inspire,this.straightCost=1,this.diagCost=Math.SQRT2}return t.prototype.setMap=function(t){this.map=t},t.prototype.getMap=function(){return this.map},t.prototype.setStartNode=function(t){this.startNode=t},t.prototype.getStartNode=function(){return this.startNode},t.prototype.setEndNode=function(t){this.endNode=t},t.prototype.getEndNode=function(){return this.endNode},t.getInstance=function(){return this.__instance?this.__instance:(this.__instance=new t,this.__instance)},t.prototype.inspire=function(t){var o=Math.abs(t.x-this.endNode.x),e=Math.abs(t.y-this.endNode.y),n=Math.min(o,e),r=o+e;return 1.4*n+this.straightCost*(r-2*n)},t.prototype.findPathMethod=function(){this.openList=[],this.closedList=[];this.map.hero.getComponent("Hero");console.log("\u82f1\u96c4\u7684\u4f4d\u7f6e\u662f\uff1a",this.map.hero.x,this.map.hero.y),console.log("\u82f1\u96c4\u7684\u4f4d\u7f6e\u662f\uff1a",this.map.hero.getComponent("Hero").row,this.map.hero.getComponent("Hero").column);var t=this.map.hero.getComponent("Hero").row,o=this.map.hero.getComponent("Hero").column;return this.map.grid[t][o].getComponent("NodePoint").g=1,this.map.grid[t][o].getComponent("NodePoint").h=this.qifa(this.map.grid[t][o]),this.map.grid[t][o].getComponent("NodePoint").f=this.map.grid[t][o].getComponent("NodePoint").g+this.map.grid[t][o].getComponent("NodePoint").h,this.openList.push(this.map.grid[t][o]),this.findPath()},t.prototype.findPath=function(){for(var t;!this.isEnd;){t=this.openList[0];for(var o=0,e=0;e<this.openList.length;e++)this.openList[e].getComponent("NodePoint").f<t.getComponent("NodePoint").f&&(t=this.openList[e],o=e);this.openList[o]=this.openList[this.openList.length-1],this.openList.pop(),this.closedList.push(t);var r=t.getComponent("NodePoint"),i=r.row-1<0?0:r.row-1,c=r.row+1>n.Const.ROWS?n.Const.ROWS:r.row+1,s=r.column-1<0?0:r.column-1,a=r.column+1>n.Const.COLUMNS?n.Const.COLUMNS:r.column+1;this.closedList.push(this.map.grid[r.row][r.column]);for(e=i;e<c;e++)for(var p=s;p<a;p++){var l=this.map.grid[e][p];p===r.row&&e===r.column||this.map.grid[p][e].getComponent("NodePoint").status||this.map.grid[e][p].getComponent("NodePoint").status||(l.getComponent("NodePoint").g=1,l.getComponent("NodePoint").h=this.qifa(l),l.getComponent("NodePoint").f=l.getComponent("NodePoint").g+l.getComponent("NodePoint").h)}}},t.__instance=null,t}();e.default=r,cc._RF.pop()},{"../Global":"Global"}],Actions:[function(t,o,e){"use strict";cc._RF.push(o,"95fb2z2JClL64JGE/7HTjSJ","Actions"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,c=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.duration=2,o.oldPosition=null,o}return __extends(o,t),o.prototype.start=function(){this.oldPosition=this.node.position},o.prototype.play=function(){var t=[this.control1.position,this.control2.position,this.target.position];this.node.runAction(cc.bezierTo(this.duration,t))},o.prototype.reset=function(){this.node.position=this.oldPosition},o.prototype.update=function(t){},__decorate([i(cc.Node)],o.prototype,"target",void 0),__decorate([i(cc.Node)],o.prototype,"control1",void 0),__decorate([i(cc.Node)],o.prototype,"control2",void 0),__decorate([i],o.prototype,"duration",void 0),o=__decorate([r],o)}(cc.Component);e.default=c,cc._RF.pop()},{}],BackAdapter:[function(t,o,e){"use strict";cc._RF.push(o,"295bcac1flPX6u+3B/ISJby","BackAdapter"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=(n.property,function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.onLoad=function(){cc.size;var t=Math.min(this.node.width/cc.view.getCanvasSize().width,this.node.height/cc.view.getCanvasSize().height),o=t*this.node.width,e=t*this.node.height;this.node.width=o,this.node.height=e;var n=Math.max(this.node.width/cc.view.getCanvasSize().width,this.node.height/cc.view.getCanvasSize().height);this.node.scale=n},o.prototype.start=function(){},o=__decorate([r],o)}(cc.Component));e.default=i,cc._RF.pop()},{}],Dragable:[function(t,o,e){"use strict";cc._RF.push(o,"d1403lBHHpACJthP7uIztk+","Dragable"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=(n.property,function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.start=function(){this.node.on("touchmove",this.moving,this)},o.prototype.moving=function(t){console.log("location is ",t.getLocation()),this.node.position=this.node.parent.convertToNodeSpaceAR(t.getLocation())},o.prototype.update=function(t){},o=__decorate([r],o)}(cc.Component));e.default=i,cc._RF.pop()},{}],Draw:[function(t,o,e){"use strict";cc._RF.push(o,"8c4482vUrVCK6nLFC2K7th6","Draw"),Object.defineProperty(e,"__esModule",{value:!0});var n=t("./Actions"),r=cc._decorator,i=r.ccclass,c=r.property,s=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.actions=[],o.duration=2,o.params=o.getBezierParams(),o}return __extends(o,t),o.prototype.getBezierParams=function(){var t=[];return this.actions.forEach(function(o){if(o){var e=[o.node.position,o.control1.position,o.control2.position,o.target.position];t.push(e)}}),t},o.prototype.start=function(){var t=this,o=this;this.graphics=this.node.getComponent(cc.Graphics),this.graphics&&(console.log("actions is ",this.actions),this.actions.map(function(e){o.drawLine(e),[e.node,e.control1,e.control2,e.target].forEach(function(o){o.on("position-changed",t.drawLineByChange,t)})}))},o.prototype.drawLineByChange=function(t){this.graphics.clear();var o=this;this.actions.map(function(t){o.drawLine(t)})},o.prototype.drawLine=function(t){console.log("actionItem is ",t),console.log("============\u5f00\u59cb\u753b\u7ebf============"),this.graphics.strokeColor=cc.Color.RED,this.graphics.moveTo(t.node.x,t.node.y),this.graphics.lineTo(t.control1.x,t.control1.y),this.graphics.stroke(),this.graphics.strokeColor=cc.Color.RED,this.graphics.moveTo(t.target.x,t.target.y),this.graphics.lineTo(t.control2.x,t.control2.y),this.graphics.stroke(),console.log("============\u7ed3\u675f\u753b\u7ebf============"),this.drawBezire(t)},o.prototype.drawBezire=function(t){t&&(this.graphics.moveTo(t.node.x,t.node.y),this.graphics.strokeColor=cc.Color.YELLOW,this.graphics.bezierCurveTo(t.control1.x,t.control1.y,t.control2.x,t.control2.y,t.target.x,t.target.y),this.graphics.stroke())},__decorate([c([n.default])],o.prototype,"actions",void 0),__decorate([c(cc.Node)],o.prototype,"actionNode",void 0),__decorate([c],o.prototype,"duration",void 0),__decorate([c],o.prototype,"params",void 0),o=__decorate([i],o)}(cc.Component);e.default=s,cc._RF.pop()},{"./Actions":"Actions"}],Global:[function(t,o,e){"use strict";cc._RF.push(o,"a7268IiMzNPxpbO4gnGABkB","Global"),Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.name="",this.age=0,this.sex=0}return t.getInstance=function(){return this.__instance||(this.__instance=new t),this.__instance},t.prototype.setname=function(t){this.name=t},t.prototype.getName=function(){return this.name},t.__instance=null,t}();e.Global=n;var r=function(){function t(){}return t.BLOCKWIDTH=32,t.BLOCKHEIGHT=32,t.COLUMNS=30,t.ROWS=20,t}();e.Const=r,cc._RF.pop()},{}],Hero:[function(t,o,e){"use strict";cc._RF.push(o,"41444LGx+tCUIZl1dE5vJ4V","Hero"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=(n.property,function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.row=17,o.column=4,o}return __extends(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){},o=__decorate([r],o)}(cc.Component));e.default=i,cc._RF.pop()},{}],Item:[function(t,o,e){"use strict";cc._RF.push(o,"e59f9rIosZKp7bfHw5COytO","Item");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=i.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.itemId=0,o.scoreLabel=null,o.levelLabel=null,o}return n(o,t),o.prototype.onLoad=function(){},o.prototype.setItemId=function(t){this.itemId=t},o.prototype.setScore=function(t){this.scoreLabel.string=t},o.prototype.setLevel=function(t){this.levelLabel.string=t},o.prototype.setAvatar=function(t){var o=this;console.log("url is ",t),t&&cc.loader.loadRes(t,cc.SpriteFrame,function(t,e){o.node.getChildByName("avatar").getComponent(cc.Sprite).spriteFrame=e})},o.prototype.start=function(){},o.prototype.update=function(t){},r([s({type:cc.Label})],o.prototype,"scoreLabel",void 0),r([s({type:cc.Label})],o.prototype,"levelLabel",void 0),o=r([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],Map:[function(t,o,e){"use strict";cc._RF.push(o,"1b29cilsLdFQr81RxfUU1CV","Map"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,c=t("../Global"),s=t("./AStar"),a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.mould=null,o.hero=null,o.grid=null,o.tempArr=null,o}return __extends(o,t),o.prototype.onLoad=function(){this.tempArr=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,2,2,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,0,2,2,2,0,0,0,0,0],[0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,1,1,1,0,1,1,1,0,0,2,0,0,0,0,0],[0,0,0,0,2,2,2,2,0,0,2,0,0,0,0,0,0,0,1,1,1,1,0,0,2,0,0,0,0,0],[0,0,0,2,2,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,2,0,0,0,0,0],[0,0,0,2,0,0,0,0,1,1,0,0,0,0,0,1,1,0,0,0,1,0,0,0,2,0,0,0,0,0],[0,0,2,2,0,0,1,1,1,0,0,0,1,1,1,1,0,0,0,1,1,0,0,0,2,0,0,0,0,0],[0,0,2,0,0,0,1,0,2,0,0,1,1,1,1,1,1,0,0,1,0,0,0,0,2,0,0,0,0,0],[0,0,2,0,0,1,1,0,2,0,0,0,0,0,0,0,1,1,1,0,0,0,0,2,0,0,0,0,0,0],[0,0,2,0,0,1,0,0,2,0,0,0,0,1,1,1,0,0,1,1,1,0,0,2,0,0,0,0,0,0],[0,0,2,0,0,1,0,0,2,2,0,1,1,2,2,2,2,2,2,2,1,1,1,2,0,0,0,0,0,0],[0,0,2,0,0,1,1,0,0,2,0,1,1,1,1,0,0,0,0,2,2,0,1,2,0,0,0,0,0,0],[0,0,2,0,0,0,1,0,2,2,0,0,0,0,1,1,1,1,1,1,2,0,1,2,0,0,0,0,0,0],[0,0,2,0,0,0,0,1,0,2,2,2,2,2,0,0,0,0,0,0,2,0,1,2,0,0,0,0,0,0],[0,0,2,0,0,0,0,0,1,1,1,0,0,2,2,2,2,2,2,2,2,0,1,2,0,0,0,0,0,0],[0,0,2,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,2,0,0,0,0,0,0],[0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,2,0,0,0,0,0,0],[0,0,0,2,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,1,1,0,0,2,2,0,0,0,0,0],[0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,1,1,0,0,0,2,2,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,2,0,0,0,0,0,0]]},o.prototype.touchback=function(t){console.log("event is ",t);var o=this.node.convertToNodeSpaceAR(t.getLocation());console.log("localPosition si ",o)},o.prototype.start=function(){this.grid=[],console.log("Const is ",c.Const.BLOCKHEIGHT);for(var t=0,o=0;o<c.Const.ROWS;o++){this.grid[o]=[];for(var e=0;e<c.Const.COLUMNS;e++){t++;var n=e*c.Const.BLOCKWIDTH,r=(c.Const.ROWS-1)*c.Const.BLOCKWIDTH-o*c.Const.BLOCKHEIGHT;this.grid[o][e]=this.createPrefabItem(this.mould,this.node,n,r),this.grid[o][e].getComponent("NodePoint").x=n,this.grid[o][e].getComponent("NodePoint").y=r,this.grid[o][e].getComponent("NodePoint").row=o,this.grid[o][e].getComponent("NodePoint").column=e,this.grid[o][e].name=o+"_"+e,this.grid[o][e].on("touchstart",this.touchGrid,this),1===this.tempArr[o][e]||2===this.tempArr[o][e]?(console.log("\u8be5\u8282\u70b9\u4e0b\u7684\u811a\u672c\u7ec4\u4ef6\u662f\uff1a",this.grid[o][e].getComponent("NodePoint").status),this.grid[o][e].getComponent("NodePoint").status=1):this.grid[o][e].getComponent("NodePoint").status=0}}console.log("count is ",t),console.log("grid is ",this.grid)},o.prototype.touchGrid=function(t){var o=t.target,e=o.name;Number(e.split("_")[0]),Number(e.split("_")[1]);this.targetPosition=o,console.log("\u7ec8\u70b9\u662f\uff1a",this.targetPosition),s.default.getInstance().setStartNode(this.hero),s.default.getInstance().setEndNode(this.targetPosition),s.default.getInstance().setMap(this),s.default.getInstance().findPath()},o.prototype.createPrefabItem=function(t,o,e,n){var r=cc.instantiate(t);return r.parent=o,r.x=e,r.y=n,r},__decorate([i({type:cc.Prefab})],o.prototype,"mould",void 0),__decorate([i({type:cc.Node})],o.prototype,"hero",void 0),o=__decorate([r],o)}(cc.Component);e.default=a,cc._RF.pop()},{"../Global":"Global","./AStar":"AStar"}],NodeItem:[function(t,o,e){"use strict";cc._RF.push(o,"cc931gryA1Dcq+5NZCSAnvP","NodeItem");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return n(o,t),o.prototype.onLoad=function(){},o.prototype.unuse=function(){console.log("\u8be5\u5bf9\u8c61\u88ab\u56de\u6536")},o.prototype.reuse=function(){console.log("\u8be5\u5bf9\u8c61\u88ab\u91cd\u65b0\u4f7f\u7528\uff0c\u91cd\u65b0\u4f7f\u7528\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u91cd\u7f6e\u5b83\u7684\u5750\u6807"),console.log("\u8be5\u5bf9\u8c61\u7684y\u5750\u6807\u4e3a\uff1a",this.node.x)},o.prototype.start=function(){},o.prototype.update=function(t){},o=r([c],o)}(cc.Component));e.default=s,cc._RF.pop()},{}],NodePoint:[function(t,o,e){"use strict";cc._RF.push(o,"06fc5zcQCNNRLLWhYzVud7x","NodePoint"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=(n.property,function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.status=0,o.row=0,o.column=0,o.x=0,o.y=0,o.f=0,o.g=1,o.h=0,o.distance=0,o}return __extends(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){},o.prototype.getDistanceTo=function(t){var o=Math.abs(t.x-this.node.x),e=Math.abs(t.y-this.node.y);return this.distance=Math.sqrt(o*o+e*e),this.distance},o=__decorate([r],o)}(cc.Component));e.default=i,cc._RF.pop()},{}],Progress:[function(t,o,e){"use strict";cc._RF.push(o,"95576Pp//hG/aVik9RT9wKv","Progress");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.progressComponent=null,o.sceneLoaded=!1,o.loadRate=0,o}return n(o,t),o.prototype.onLoad=function(){cc.director.preloadScene("ThreeD",this.sceneLoadProgress.bind(this),null),this.progressComponent=this.node.getComponent(cc.ProgressBar),console.log("\u6e32\u67d3\u5f15\u64ce\u662f\uff1a",cc.renderer.renderEngine)},o.prototype.start=function(){},o.prototype.sceneLoadProgress=function(t,o,e){console.log("completed is ",t),console.log("total is ",o),this.loadRate=t/o,console.log("============>>>loadRate is ",this.loadRate),this.loadRate<=1&&(this.progressComponent.progress=this.loadRate,this.node.getChildByName("lizi").x=this.loadRate*this.progressComponent.node.width,1===this.loadRate&&(this.sceneLoaded||(cc.director.loadScene("ThreeD"),this.sceneLoaded=!0)))},o.prototype.update=function(t){console.log("loadRate is ",this.loadRate)},o=r([c],o)}(cc.Component));e.default=s,cc._RF.pop()},{}],ScrollControl:[function(t,o,e){"use strict";cc._RF.push(o,"fef81TYZE5Ifa9DOCOikUPg","ScrollControl");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=i.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.scroll=null,o.itemPrefab=null,o.totalCount=0,o.spacing=20,o.spawnCount=6,o.topY=0,o.bottomY=0,o.lastY=0,o.content=null,o.items=[],o.timeFrame=0,o.timeInterval=.2,o.maxY=0,o.startAdd=o.spawnCount,o.startAppend=0,o}return n(o,t),o.prototype.onLoad=function(){this.content=this.scroll.content,console.log("content is ",this.content),console.log("content's parent is ",this.content.parent),this.content.height=this.totalCount*this.itemPrefab.data.height+this.totalCount*this.spacing+this.spacing,this.topY=0,this.bottomY=-this.content.height;for(var t=0;t<this.spawnCount;t++){var o=cc.instantiate(this.itemPrefab);o.getChildByName("score").getComponent(cc.Label).string=t.toString(),o.getComponent("Item").setItemId(t),o.x=0,o.y=-t*(o.height+this.spacing)-this.spacing,t===this.spawnCount-1&&(this.maxY=o.y),console.log("tempNode is ",o),this.content.addChild(o),this.items.push(o)}},o.prototype.start=function(){},o.prototype.update=function(t){if(this.timeFrame+=t,!(this.timeFrame<this.timeInterval)){this.timeFrame=0;for(var o=this.scroll.content.y>this.lastY,e=-this.spawnCount*(this.itemPrefab.data.height+this.spacing),n=0;n<this.items.length;n++){var r=this.items[n],i=r.parent.convertToWorldSpaceAR(r.position),c=this.scroll.node.convertToNodeSpaceAR(i);c.y>this.scroll.node.height/2+r.height+this.spacing&&o?(r.y=r.y+e,r.getComponent("Item").setItemId(r.getComponent("Item").itemId+this.items.length),r.getComponent("Item").setScore(""+r.getComponent("Item").itemId),n%2==0?r.getComponent("Item").setAvatar("1.jpg"):r.getComponent("Item").setAvatar("2.jpg")):c.y<-(this.scroll.node.height/2+r.height+this.spacing)&&!o&&r.getComponent("Item").itemId-this.items.length>=0&&(console.log("\u6709\u8282\u70b9\u8d85\u51fa\u4e86\u4e0b\u8fb9\u754c",n),r.y-=e,r.getComponent("Item").setItemId(r.getComponent("Item").itemId-this.items.length),r.getComponent("Item").setScore(""+r.getComponent("Item").itemId))}this.lastY=this.scroll.content.y}},r([s({type:cc.ScrollView})],o.prototype,"scroll",void 0),r([s({type:cc.Prefab})],o.prototype,"itemPrefab",void 0),r([s],o.prototype,"totalCount",void 0),r([s],o.prototype,"spacing",void 0),r([s],o.prototype,"spawnCount",void 0),o=r([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],Test:[function(t,o,e){"use strict";cc._RF.push(o,"da1c6iWhZZMQpcNQ9Qj/7H2","Test"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,i=n.property,c=cc.Enum({UNKNOW:0,MAN:1,WOMAN:2}),s=t("../Global"),a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.back=null,o.label=null,o.text="hello",o.blood=10,o.sex=c.UNKNOW,o.call=new cc.Component.EventHandler,o}return __extends(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){var t=s.Global.getInstance();t.setname("lck"),console.log("global's name is ",t.getName())},__decorate([i(cc.Sprite)],o.prototype,"back",void 0),__decorate([i({type:cc.Label,displayName:"\u6807\u9898",tooltip:"\u663e\u793a\u6e38\u620f\u7684\u6807\u9898"})],o.prototype,"label",void 0),__decorate([i],o.prototype,"text",void 0),__decorate([i({type:cc.Integer,displayName:"\u8840\u91cf",slide:!0,min:0,max:10,tooltip:"\u4eba\u7269\u5f53\u524d\u8840\u91cf"})],o.prototype,"blood",void 0),__decorate([i({type:cc.Enum(c),displayName:"\u6027\u522b"})],o.prototype,"sex",void 0),__decorate([i({type:cc.Component.EventHandler,displayName:"\u53cc\u6740"})],o.prototype,"call",void 0),o=__decorate([r],o)}(cc.Component);e.default=a,cc._RF.pop()},{"../Global":"Global"}],WebSocket:[function(t,o,e){"use strict";cc._RF.push(o,"dd1ccI9qHBLoqkk0WijUO36","WebSocket");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.ws=null,o.url="",o.lastHeartBeat=0,o.overTime=0,o}return n(o,t),o.prototype.onLoad=function(){this.init(this.url)},o.prototype.init=function(t){var o=this;this.url=t,this.ws||(this.ws=new WebSocket(this.url)),o.heartCheck={timeout:8e3,timeoutObj:null,reset:function(){return clearTimeout(this.timeoutObj),this},start:function(){this.timeoutObj=setTimeout(function(){o.ws.send("1")},this.timeout)}},this.lastHeartBeat=(new Date).getTime(),this.overTime=8e3,this.ws.onclose=function(){o.reconnect()},this.ws.onerror=function(){o.reconnect()},this.ws.onopen=function(){o.heartCheck.reset().start()}},o.prototype.reconnect=function(){var t=this;setTimeout(function(){t.ws=new WebSocket(t.url),t.ws.onclose=function(){t.reconnect()},t.ws.onerror=function(){t.reconnect()}},2e3)},o.prototype.start=function(){},o.prototype.update=function(t){},o=r([c],o)}(cc.Component));e.default=s,cc._RF.pop()},{}],nodepoolCtr:[function(t,o,e){"use strict";cc._RF.push(o,"fb644swRHdKrKLiF+yRJshG","nodepoolCtr");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c},i=this&&this.__awaiter||function(t,o,e,n){return new(e||(e=Promise))(function(r,i){function c(t){try{a(n.next(t))}catch(t){i(t)}}function s(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){t.done?r(t.value):new e(function(o){o(t.value)}).then(c,s)}a((n=n.apply(t,o||[])).next())})},c=this&&this.__generator||function(t,o){var e,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(o){return a([t,o])}}function a(i){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=o.call(t,c)}catch(t){i=[6,t],n=0}finally{e=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.enemyPrefab=null,o.motionPrefab=null,o.pool=null,o.motionPool=null,o}return n(o,t),o.prototype.onLoad=function(){this.pool=new cc.NodePool("NodeItem"),this.motionPool=new cc.NodePool;for(var t=0;t<10;t++){var o=cc.instantiate(this.enemyPrefab);this.pool.put(o),o.addComponent("NodeItem")}for(t=0;t<10;t++){o=cc.instantiate(this.motionPrefab);this.motionPool.put(o)}},o.prototype.start=function(){return i(this,void 0,void 0,function(){var t,o,e,n;return c(this,function(r){switch(r.label){case 0:t=this,o=function(o){var n,r;return c(this,function(i){switch(i.label){case 0:return[4,new Promise(function(t,o){setTimeout(function(){console.log("\u4e00\u79d2\u65f6\u95f4\u5230"),t()},500)})];case 1:return i.sent(),console.log("pool's size is ",t.pool.size()),console.log("i is ",o),t.pool.size()>0&&((n=t.pool.get())&&(n=cc.instantiate(e.enemyPrefab)),n.x=0,n.y=0,t.node.addChild(n),cc.tween(n).to(2,{x:-700,y:0},{progress:null,easing:"easeInOut"}).call(function(){t.pool.put(n)}).start()),[4,new Promise(function(t,o){setTimeout(function(){console.log("\u4e00\u79d2\u65f6\u95f4\u5230"),t()},500)})];case 2:return i.sent(),console.log("pool's size is ",t.motionPool.size()),console.log("i is ",o),t.motionPool.size()>0&&((r=t.motionPool.get()).x=0,r.y=0,t.node.addChild(r),cc.tween(r).to(2,{x:700,y:0},{progress:null,easing:"easeInOut"}).call(function(){t.motionPool.put(r)}).start()),[2]}})},e=this,n=0,r.label=1;case 1:return n<100?[5,o(n)]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},o.prototype.update=function(t){},r([p({type:cc.Prefab})],o.prototype,"enemyPrefab",void 0),r([p({type:cc.Prefab})],o.prototype,"motionPrefab",void 0),o=r([a],o)}(cc.Component);e.default=l,cc._RF.pop()},{}],rotate3D:[function(t,o,e){"use strict";cc._RF.push(o,"62559EydwpJ+5aKFHs5OL6R","rotate3D");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return n(o,t),o.prototype.start=function(){},o.prototype.update=function(t){this.node.rotationY+=50*t},o=r([c],o)}(cc.Component));e.default=s,cc._RF.pop()},{}],testSpace:[function(t,o,e){"use strict";cc._RF.push(o,"433f1rS4hFEZYCXv5CZurcG","testSpace");var n=this&&this.__extends||function(){var t=function(o,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(o,e)};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r=this&&this.__decorate||function(t,o,e,n){var r,i=arguments.length,c=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,o,e,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(o,e,c):r(o,e))||c);return i>3&&c&&Object.defineProperty(o,e,c),c};Object.defineProperty(e,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=i.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.testP=null,o}return n(o,t),o.prototype.onLoad=function(){var t=this.testP.parent.convertToWorldSpaceAR(this.testP.position),o=this.testP.convertToWorldSpaceAR(this.testP.position);console.log("tempPosition is ",o);var e=this.node.convertToNodeSpaceAR(t);console.log("worldPositioin is ",t),console.log("resPosition is ",e)},o.prototype.start=function(){},o.prototype.update=function(t){},r([s(cc.Node)],o.prototype,"testP",void 0),o=r([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}]},{},["Actions","Dragable","Draw","Global","AStar","BackAdapter","Hero","Map","NodePoint","Item","NodeItem","Progress","ScrollControl","Test","WebSocket","nodepoolCtr","rotate3D","testSpace"]);