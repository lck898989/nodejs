window.__require=function t(e,o,n){function r(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return r(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"442dcYsejhL0pzVZlG+jjrw","AudioManager");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function c(t){try{a(n.next(t))}catch(t){i(t)}}function s(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){t.done?r(t.value):new o(function(e){e(t.value)}).then(c,s)}a((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this.currentBgMusic=-1,this.bgCache={},this.effectCache={},this.volume=1,this.musicOn=!0}return t.getInstance=function(){return this._instance||(this._instance=new t),cc.sys.localStorage.getItem("music")||cc.sys.localStorage.setItem("music",1),this._instance},t.prototype.playBg=function(t,e,o){return n(this,void 0,void 0,function(){var n;return r(this,function(r){switch(r.label){case 0:return console.log("url is ",typeof t),"string"!=typeof t?[3,3]:(this,"number"==typeof o?o>1?o=1:o<0&&(o=0):o=this.volume,console.log("bgCache is ",this.bgCache[t]),this.bgCache[t]?[3,2]:[4,new Promise(function(e,o){cc.loader.loadRes(t,function(t,n){if(t)return console.log("err is ",t),void o(t);e(n)})})]);case 1:return n=r.sent(),this.bgCache[t]=n,this.musicOn&&(this.currentBgMusic=cc.audioEngine.play(this.bgCache[t],e,o)),[3,3];case 2:this.musicOn&&(this.currentBgMusic=cc.audioEngine.play(this.bgCache[t],e,o)),r.label=3;case 3:return[2]}})})},t.prototype.stopBg=function(){cc.audioEngine.pause(this.currentBgMusic)},t.prototype.isPlaying=function(){return!(-1===this.currentBgMusic||!this.musicOn)},t.prototype.playEffect=function(t){if(this.musicOn&&"string"==typeof t){var e=this;this.effectCache[t]||cc.loader.loadRes(t,function(o,n){o||(e.effectCache[t]=n)}),cc.audioEngine.play(this.effectCache[t],!1,this.volume)}},t.prototype.turnOnMusic=function(){-1!==this.currentBgMusic&&cc.audioEngine.resume(this.currentBgMusic),cc.sys.localStorage.setItem("music",1),this.musicOn=!0},t.prototype.turnOffMusic=function(){this.stopBg(),cc.sys.localStorage.setItem("music",0),this.musicOn=!1},t.prototype.getMusicState=function(){return 1==cc.sys.localStorage.getItem("music")},t.prototype.setVolume=function(t){this.volume=t>1||t<0?t>1?1:0:t},t}();o.default=i,cc._RF.pop()},{}],BackGroundAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"3d293wrSYpKu7u4oj/hv/Uw","BackGroundAdapter");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){if(cc.sys.isMobile){var t=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),e=t*this.node.width,o=t*this.node.height;this.node.scale=Math.max(cc.view.getCanvasSize().width/e,cc.view.getCanvasSize().height/o)}},e.prototype.start=function(){},e.prototype.update=function(t){},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Ball:[function(t,e,o){"use strict";cc._RF.push(e,"5c5c7vTidFOgJOYuDHG5Hjc","Ball");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.onCollisionEnter=function(t,e){t.name.indexOf("board")>=0&&cc.director.emit("ballToBoard",{other:t,self:e}),console.log("other.name is ",t.name),"holewin"===t.node.group&&(console.log("\u78b0\u5230\u9ed1\u6d1e\u4e86"),cc.director.emit("ballToHole",{over:"win"})),"holelose"===t.node.group&&(console.log("\u6e38\u620f\u7ed3\u675f\u78b0\u5230\u4e86\u5047\u7684\u9ed1\u6d1e"),cc.director.emit("ballToHole",{over:"lose",node:t.node})),t.name.indexOf("cp")>=0&&cc.director.emit("ballToLand",{other:t,self:e})},e.prototype.start=function(){},e.prototype.update=function(t){},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Command:[function(t,e,o){"use strict";cc._RF.push(e,"95bc6ixHWtDHovzvXQ892kV","Command");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,c=(r.property,function(){function t(){this.name=""}return t=n([i],t)}());o.default=c,cc._RF.pop()},{}],Consts:[function(t,e,o){"use strict";var n;cc._RF.push(e,"9c10aKQHs1K37R1eohyTY+r","Consts"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.NONE=0]="NONE",t[t.EFFECT=1]="EFFECT",t[t.SETTING=2]="SETTING",t[t.MASK=3]="MASK",t[t.LOADING=4]="LOADING"}(o.LayerState||(o.LayerState={})),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON"}(n=o.eType||(o.eType={}));var r=function(){function t(){}return t.effectState=n.ON,t.musicState=n.ON,t}();o.MusicState=r,cc._RF.pop()},{}],EventManager:[function(t,e,o){"use strict";cc._RF.push(e,"ce712fBB1BAWqPhLd6XEYoB","EventManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.listenerObj={}}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.addEventListener=function(t,e,o){"string"==typeof t&&"function"==typeof e&&(this.target=o,void 0===this.listenerObj[t]?this.listenerObj[t]=[e]:this.listenerObj[t].push(e))},t.prototype.removeEventListener=function(t,e,o){if(("string"==typeof t||"function"==typeof e)&&this.listenerObj[t]&&this.listenerObj[t].length>0){for(var n=0,r=this.listenerObj[t].length;n<r;n++)if(this.listenerObj[t][n]==e){this.listenerObj[t][n]=null;break}this.listenerObj[t].splice(n,1)}},t.prototype.dispatchEvent=function(t){if(t.target||(t.target=this.target),this.listenerObj[t.type].length>0){this.listenerObj[t.type].length;for(var e=this.listenerObj[t.type],o=0;o<e.length;o++)"function"==typeof e[o]&&e[o].call(t.target,t)}},t._instance=null,t}();o.default=n,cc._RF.pop()},{}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"5d196cQ/OhJe6Wz2rS3AWwk","GameController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e.prototype.btnEvent=function(t,e){"level"===e&&cc.director.loadScene("level")},e.prototype.start=function(){},e.prototype.update=function(t){},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"2ab68262T1HnILnUlh/fo7g","Game");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function c(t){try{a(n.next(t))}catch(t){i(t)}}function s(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){t.done?r(t.value):new o(function(e){e(t.value)}).then(c,s)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return a([t,e])}}function a(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s,a,l=t("./managers/ResourceManager"),u=cc._decorator,p=u.ccclass,f=u.property;(function(t){t[t.LEFT=0]="LEFT",t[t.UP=1]="UP",t[t.RIGHT=2]="RIGHT",t[t.DOWN=3]="DOWN",t[t.NONE=4]="NONE"})(s||(s={})),function(t){t[t.INIT=0]="INIT",t[t.BEGIN=1]="BEGIN",t[t.END=2]="END"}(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.board=null,e.ball=null,e.ballp=null,e.hole=null,e.ballFallAudio=null,e.bg=null,e.levelLabel=null,e.mainCamera=null,e.holeWin=null,e.holeLose=null,e.holeCon=null,e.overMenu=null,e.boardTouch=null,e.loseAudio=null,e.speed=1,e.canMove=!0,e.dir=s.NONE,e.over=!1,e.curState=a.INIT,e.ballIsDown=!1,e.levelData=null,e.startTime=!1,e.timeUsed=0,e.gridWidth=70,e.gridHeight=70,e.loseHolePool=null,e.poolDeep=40,e.holeWinNode=null,e.startPosition=cc.v2(0,0),e.moving=!1,e}return n(e,t),e.prototype.onLoad=function(){return i(this,void 0,void 0,function(){var t,e,o;return c(this,function(n){switch(n.label){case 0:return this.gridMap=[],cc.macro.ENABLE_WEBGL_ANTIALIAS=!0,cc.director.getPhysicsManager().enabled=!0,this,console.log("bg is ",this.bg),t=cc.find("Controller").getComponent("SceneManager"),e=t.getLevel().toString(),this.levelLabel.string="level"+e,[4,l.default.getInstance().loadResourceByUrl("level"+e,cc.JsonAsset)];case 1:return o=n.sent(),this.levelData=o.json,console.log("levelData is ",this.levelData),cc.director.on("ballToHole",this.overHandle,this),cc.director.on("ballToBoard",this.ballToBoardHandle,this),cc.director.on("ballToLand",this.ballToLandHandle,this),this.node.on("touchstart",this.tapStart,this),this.node.on("touchend",this.tapEnd,this),this.boardTouch.on("touchstart",this.tapBoard,this),this.boardTouch.on("touchmove",this.tapMove,this),this.boardTouch.on("touchend",this.tapBoardEnd,this),this.boardTouch.on(cc.Node.EventType.TOUCH_CANCEL,this.tapBoardEnd,this),this.initHoleGrid(),this.initHolePoolForLose(),this.initHole(),console.log("gridMap is ",this.gridMap),[2]}})})},e.prototype.initHoleGrid=function(){if(this.levelData){var t=this.levelData.col,e=this.levelData.row;this.gridWidth=this.node.width/t,this.gridHeight=this.node.height/e;for(var o=0;o<e;o++){this.gridMap[o]=[];for(var n=0;n<t;n++){var r=new cc.Vec2;r.x=this.gridWidth/2+n*this.gridWidth,r.y=this.gridHeight/2+o*this.gridHeight,this.gridMap[o].push(r)}}}},e.prototype.initHolePoolForLose=function(){this.loseHolePool=new cc.NodePool;for(var t=0;t<this.poolDeep;t++){var e=cc.instantiate(this.holeLose);this.loseHolePool.put(e)}},e.prototype.initHole=function(){if(this.levelData)for(var t=this.levelData.objects,e=0;e<t.length;e++)if(0===e){var o=t[e].pos;this.holeWinNode=cc.instantiate(this.holeWin),this.holeCon.addChild(this.holeWinNode),this.holeWinNode.setPosition(this.gridMap[o.row][o.col]),this.holeWinNode.scale=Number(t[e].scaleMultiplier)}else{o=t[e].pos;var n=this.loseHolePool.get();console.log("\u4ece\u8282\u70b9\u6c60\u4e2d\u83b7\u53d6\u7684\u8282\u70b9\u662f\uff1a",n),n&&(n.setPosition(this.gridMap[o.row][o.col]),n.scale=Number(t[e].scaleMultiplier),this.holeCon.addChild(n))}},e.prototype.ballToLandHandle=function(){this.startTime=!1,this.overMenu.getChildByName("tryLabel").getComponent(cc.Label).string="TRY AGAIN";var t=this.overMenu.getComponent(cc.Animation).getClips()[0].name;this.overMenu.getComponent(cc.Animation).play(t),this.over=!0},e.prototype.overHandle=function(t){return i(this,void 0,void 0,function(){var e,o,n;return c(this,function(r){switch(r.label){case 0:return this.startTime=!1,"win"!==t.over?[3,2]:[4,this.ballToHoleHandle(this.holeWinNode)];case 1:return r.sent(),this.over&&(this.overMenu.getChildByName("tryLabel").getComponent(cc.Label).string="SUCCESS",this.overMenu.getChildByName("successCon").active=!0,e=this.overMenu.getChildByName("successCon").getChildByName("time").getComponent(cc.Label),o=this.updateTimeByTotalTime(this.timeUsed,e),n=this.overMenu.getComponent(cc.Animation).getClips()[0].name,this.overMenu.getComponent(cc.Animation).play(n),cc.find("Controller").getComponent("User").setBestRecord(Number(cc.find("Controller").getComponent("SceneManager").getLevel().toString()),o)),[3,4];case 2:return"lose"!==t.over?[3,4]:(cc.audioEngine.playEffect(this.loseAudio,!1),[4,this.ballToHoleHandle(t.node)]);case 3:r.sent(),console.log("\u6e38\u620f\u5931\u8d25"),this.overMenu.getChildByName("tryLabel").getComponent(cc.Label).string="TRY AGAIN",n=this.overMenu.getComponent(cc.Animation).getClips()[0].name,this.overMenu.getComponent(cc.Animation).play(n),r.label=4;case 4:return[2]}})})},e.prototype.ballToBoardHandle=function(){if(!this.ballIsDown){this.ballIsDown=!0,this.levelLabel.string="00:00",cc.tween(this.ballp).to(.5,{opacity:0}).start();var t=this.levelLabel.node.getComponent(cc.Animation).getClips()[1];this.levelLabel.node.getComponent(cc.Animation).play(t.name),cc.audioEngine.play(this.ballFallAudio,!1,.5)}},Object.defineProperty(e.prototype,"CurState",{set:function(t){switch(t){case a.INIT:this.curState=a.INIT;break;case a.BEGIN:this.curState=a.BEGIN;break;case a.END:this.curState=a.END,this.gameOver()}},enumerable:!0,configurable:!0}),e.prototype.gameOver=function(){this.canMove=!1,this.over=!0,this.Dir=s.NONE,this.startTime=!1},e.prototype.start=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.ballToHoleHandle=function(t){return i(this,void 0,Promise,function(){var e,o,n;return c(this,function(r){return(e=this).over?[2]:(this.ball.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,0),cc.director.getPhysicsManager().enabled=!1,o=e.holeCon.convertToWorldSpace(cc.v2(t.x,t.y)),n=e.node.convertToNodeSpaceAR(o),[2,new Promise(function(o,r){if(cc.tween(e.ball).to(.3,{x:n.x,y:n.y}).call(function(){console.log("\u6e38\u620f\u7ed3\u675f"),cc.tween(e.ball).to(.2,{scale:0}).call(function(){e.CurState=a.END,o()}).start()}).start(),e.board.getComponent(cc.Animation).play("boardW"),"holewin"===t.group){var i=e.holeWinNode.getComponent(cc.Animation).getClips()[2].name;e.holeWinNode.getComponent(cc.Animation).play(i)}})])})})},Object.defineProperty(e.prototype,"Dir",{set:function(t){switch(t){case s.LEFT:this.dir=s.LEFT;break;case s.RIGHT:this.dir=s.RIGHT;break;case s.UP:this.dir=s.UP;break;case s.DOWN:this.dir=s.DOWN;break;case s.NONE:this.dir=s.NONE}},enumerable:!0,configurable:!0}),e.prototype.tapStart=function(t){this.startTime=!0,t.getLocation().x>this.node.width/2?this.Dir=s.RIGHT:t.getLocation().x<this.node.width/2&&(this.Dir=s.LEFT)},e.prototype.tapBoard=function(t){this.startTime=!0,console.log("e.target is ",t.target," name is ",t.target.name),t.stopPropagation(),"boardTouch"===t.target.name&&(this.startPosition=t.getLocation())},e.prototype.tapMove=function(t){this.moving=!0,0!==this.startPosition.x&&0!==this.startPosition.y&&(this.startPosition.y-t.getLocation().y>=0?this.Dir=s.DOWN:this.startPosition.y-t.getLocation().y<=0&&(this.Dir=s.UP))},e.prototype.tapBoardEnd=function(t){this.Dir=s.NONE,this.moving=!1},e.prototype.tapEnd=function(){this.Dir=s.NONE,this.moving=!1},e.prototype.onKeyDown=function(t){if(console.log(t.keyCode),this.canMove)switch(this.startTime=!0,t.keyCode){case 37:this.Dir=s.LEFT,cc.director.emit("none");break;case 38:this.Dir=s.UP,cc.director.emit("up");break;case 39:this.Dir=s.RIGHT,cc.director.emit("none");break;case 40:cc.director.emit("down"),this.Dir=s.DOWN}},e.prototype.onKeyUp=function(t){this.Dir=s.NONE,cc.director.emit("none")},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.director.off("ballToHole",this.ballToHoleHandle,this),cc.director.off("ballToBoard",this.ballToBoardHandle,this),this.node.off("touchstart",this.tapStart,this),this.node.off("touchend",this.tapEnd,this),this.board.off("touchstart",this.tapBoard,this),this.board.off("touchmove",this.tapMove,this),this.board.off("touchend",this.tapEnd,this)},e.prototype.execute=function(){},e.prototype.updateLevelOrTime=function(t){this.startTime&&(this.timeUsed+=t,this.updateTimeByTotalTime(this.timeUsed,this.levelLabel))},e.prototype.updateTimeByTotalTime=function(t,e){var o=Math.floor(t/60),n=Math.floor(t%60);return e.string=o<10?n<10?"0"+o+":0"+n:"0"+o+":"+n:n<10?o+":0"+n:o+":"+n,e.string},e.prototype.update=function(t){switch(this.updateLevelOrTime(t),this.dir){case s.LEFT:this.board.angle<=20&&(this.board.angle+=this.speed);break;case s.RIGHT:this.board.angle>=-20&&(this.board.angle-=this.speed);break;case s.UP:this.board.y+=200*t,this.mainCamera.node.y+=200*t;break;case s.DOWN:this.board.y-=200*t,this.mainCamera.node.y-=200*t}},r([f({type:cc.Node})],e.prototype,"board",void 0),r([f({type:cc.Node})],e.prototype,"ball",void 0),r([f({type:cc.Node})],e.prototype,"ballp",void 0),r([f({type:cc.Prefab})],e.prototype,"hole",void 0),r([f({type:cc.AudioClip})],e.prototype,"ballFallAudio",void 0),r([f(cc.Node)],e.prototype,"bg",void 0),r([f(cc.Label)],e.prototype,"levelLabel",void 0),r([f(cc.Camera)],e.prototype,"mainCamera",void 0),r([f(cc.Prefab)],e.prototype,"holeWin",void 0),r([f(cc.Prefab)],e.prototype,"holeLose",void 0),r([f(cc.Node)],e.prototype,"holeCon",void 0),r([f(cc.Node)],e.prototype,"overMenu",void 0),r([f(cc.Node)],e.prototype,"boardTouch",void 0),r([f(cc.AudioClip)],e.prototype,"loseAudio",void 0),e=r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./managers/ResourceManager":"ResourceManager"}],Helloworld:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Helloworld");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Hole:[function(t,e,o){"use strict";cc._RF.push(e,"8d86a4Cy1FGh4LDiltr3Y2v","Hole");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDown=!1,e}return n(e,t),e.prototype.start=function(){var t=this;this.node.active=!1,cc.director.on("ballToBoard",function(){t.isDown||(t.node.active=!0,t.node.getComponent(cc.Animation).play("down"),t.isDown=!0)},this)},e.prototype.downOver=function(){var t=this.node.getComponent(cc.Animation).getClips()[0];if(t){var e=t.name;this.node.getComponent(cc.Animation).play(e)}},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Index:[function(t,e,o){"use strict";cc._RF.push(e,"a1e7dPI1dhB8q/1KSTS6Emr","Index");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./consts/Consts"),c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgm=[],e.rootNode=null,e}return n(e,t),e.prototype.start=function(){cc.game.addPersistRootNode(this.rootNode)},e.prototype.playBg=function(){if(i.MusicState.musicState===i.eType.ON){console.log("music is playing ",cc.audioEngine.isMusicPlaying());var t=Math.floor(3*Math.random());console.log("randomIndex is ",t),cc.audioEngine.isMusicPlaying()||cc.audioEngine.playMusic(this.bgm[t],!0)}},e.prototype.btnEvent=function(t,e){if(this.playBg(),"game"===e)cc.director.loadScene("Game");else if("setting"===e){cc.find("Controller").getComponent("SceneManager").LS=i.LayerState.SETTING}else"level"===e&&cc.director.loadScene("level")},r([a([cc.AudioClip])],e.prototype,"bgm",void 0),r([a(cc.Node)],e.prototype,"rootNode",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./consts/Consts":"Consts"}],InputHandler:[function(t,e,o){"use strict";cc._RF.push(e,"19955yqLXJAhZ0TL5TFq5Fk","InputHandler"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.handleInput=function(){},t}();o.default=n,cc._RF.pop()},{}],JumpCommand:[function(t,e,o){"use strict";cc._RF.push(e,"bd6572pq1hBdLqskf63vfVo","JumpCommand");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.name="jump",e}return n(e,t),e.prototype.execute=function(){},e.prototype.undo=function(){},e}(t("./Command").default);o.default=r,cc._RF.pop()},{"./Command":"Command"}],Land:[function(t,e,o){"use strict";cc._RF.push(e,"54869oaqxJJRI0MB0NPryUb","Land");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(t){console.log("land'y is ",this.node.y)},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],LevelItem:[function(t,e,o){"use strict";cc._RF.push(e,"6fcadv75k1NOLC0a1YqNmdw","LevelItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelLabel=null,e.bestLabel=null,e}return n(e,t),e.prototype.start=function(){var t=cc.find("Controller").getComponent("User").getBestRecord(Number(this.levelLabel.string));t&&(this.bestLabel.string=t.time)},e.prototype.getLevel=function(){return this.levelLabel.string},e.prototype.setLevel=function(t){this.levelLabel.string=t.toString()},e.prototype.getBest=function(){return this.bestLabel.string},e.prototype.setBest=function(t){this.bestLabel.string=t.toString()},e.prototype.btnEvent=function(t,e){cc.director.emit("levelChoose",{level:Number(this.levelLabel.string)}),cc.director.loadScene("Game")},e.prototype.update=function(t){},e.prototype.onDestroy=function(){},r([s(cc.Label)],e.prototype,"levelLabel",void 0),r([s(cc.Label)],e.prototype,"bestLabel",void 0),e=r([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Level:[function(t,e,o){"use strict";cc._RF.push(e,"02748RfmJZFLaBUlbYIXD8P","Level");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./consts/Consts"),c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelBtnsCon=null,e.levetBtn=null,e.row=4,e.col=5,e.spaceX=25,e.spaceY=40,e.startX=0,e.startY=0,e.btnWidth=120,e.btnHeight=145,e.clickAudio=null,e}return n(e,t),e.prototype.onLoad=function(){this.startX=-this.levelBtnsCon.width/2+this.btnWidth/2,this.startY=this.levelBtnsCon.height/2-this.btnHeight/2},e.prototype.initLevelBtn=function(){for(var t=0,e=0;e<this.row;e++)for(var o=0;o<this.col;o++){t++;var n=cc.instantiate(this.levetBtn);n.setPosition(cc.v2(this.startX+o*(this.btnWidth+this.spaceX),this.startY-e*(this.btnHeight+this.spaceY))),this.levelBtnsCon.addChild(n),n.name=e.toString(),n.getChildByName("bg").getChildByName("level").getComponent(cc.Label).string=t.toString(),n.getComponent(cc.Button).node.on("click",this.clickBtn,this)}},e.prototype.clickBtn=function(t){cc.audioEngine.play(this.clickAudio,!1,1)},e.prototype.start=function(){this.initLevelBtn()},e.prototype.btnEvent=function(t,e){if(cc.audioEngine.play(this.clickAudio,!1,1),"index"===e)cc.director.loadScene("index");else if("setting"===e){cc.find("Controller").getComponent("SceneManager").LS=i.LayerState.SETTING}},r([a(cc.Node)],e.prototype,"levelBtnsCon",void 0),r([a(cc.Prefab)],e.prototype,"levetBtn",void 0),r([a(cc.AudioClip)],e.prototype,"clickAudio",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./consts/Consts":"Consts"}],LoseHole:[function(t,e,o){"use strict";cc._RF.push(e,"074d1vhluNKIJBi4bkYyPkR","LoseHole");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sScale=1,e}return n(e,t),e.prototype.start=function(){this.sScale=this.node.scale},e.prototype.loseOver=function(){this.node.scale=this.sScale},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],OverController:[function(t,e,o){"use strict";cc._RF.push(e,"4e99e3uBpZDwqJm7m3sXoqm","OverController");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./consts/Consts"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.btnEvent=function(t,e){var o=this;if("restart"===e){var n=this.node.getComponent(cc.Animation).getClips[1];this.node.getComponent(cc.Animation).play(n),cc.director.loadScene("Game")}else if("level"===e)cc.director.loadScene("level");else if("next"===e){var r=cc.find("Controller").getComponent("SceneManager");r.setLayerVisible([i.LayerState.MASK,i.LayerState.LOADING]),setTimeout(function(){r.LS=i.LayerState.NONE;var t=Number(r.getLevel());r.setLevel(t+1);var e=o.node.getComponent(cc.Animation).getClips[1];o.node.getComponent(cc.Animation).play(e),cc.director.loadScene("Game")},500)}},e.prototype.update=function(t){},e=r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./consts/Consts":"Consts"}],ResourceManager:[function(t,e,o){"use strict";cc._RF.push(e,"c99adP6KEBNDZ5AwDKuuSX2","ResourceManager");var n=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,i=r.ccclass,c=(r.property,function(){function t(){this.resCache={}}var e;return e=t,t.getInstance=function(){return this._instance||(this._instance=new e),this._instance},t.prototype.loadResourceByUrl=function(t,e){var o=this;return this.resCache[t]?this.resCache[t]:new Promise(function(n,r){cc.loader.loadRes(t,e,function(e,i){e&&r(),o.resCache[t]=i,n(i)})})},t.prototype.removeResourceByUrl=function(t){this.resCache[t]&&(this.resCache[t]=null)},t._instance=null,t=e=n([i],t)}());o.default=c,cc._RF.pop()},{}],SceneManager:[function(t,e,o){"use strict";cc._RF.push(e,"6d64aAOOChMAa3V1hSCrm1W","SceneManager");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=i.property,a=t("./consts/Consts"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=2,e._root=null,e.settingNode=null,e.effecLayer=null,e.loadingLayer=null,e.maskLayer=null,e.layerState=a.LayerState.NONE,e}var o;return n(e,t),o=e,e.getInstance=function(){return this._instance||(this._instance=new o),this._instance},e.prototype.start=function(){cc.director.on("levelChoose",this.chooseLevel,this),this.LS=a.LayerState.NONE},Object.defineProperty(e.prototype,"LS",{set:function(t){switch(this.layerState=t,t){case a.LayerState.NONE:this.node.active=!1;break;case a.LayerState.EFFECT:this.setLayerVisible([t]);break;case a.LayerState.SETTING:console.log("\u5f00\u59cb\u663e\u793a\u8bbe\u7f6e\u754c\u9762"),this.setLayerVisible([t]);var e=this.settingNode.getComponent(cc.Animation).getClips()[0].name;this.settingNode.getComponent(cc.Animation).play(e);break;case a.LayerState.MASK:case a.LayerState.LOADING:this.setLayerVisible([t])}},enumerable:!0,configurable:!0}),e.prototype.setLayerVisible=function(t){this.node.active=!0;for(var e=this.node.childrenCount,o=[],n=0;n<e;n++)for(var r=0;r<t.length;r++)t[r]-1===n?o.push(this.node.children[n]):(this.node.children[n].active=!1,this.node.children[n].opacity=0);for(n=0;n<o.length;n++)console.log("\u754c\u9762\u88ab\u6253\u5f00",o[n].active," \u754c\u9762\u8282\u70b9\u7684\u540d\u5b57\u662f\uff1a",o[n].name," \u900f\u660e\u5ea6\u4e3a",o[n].opacity),o[n].active=!0,o[n].name.indexOf("mask")>=0?o[n].opacity=125:o[n].opacity=255},e.prototype.chooseLevel=function(t){console.log("\u9009\u62e9\u5173\u5361\u4f20\u9012\u8fc7\u6765\u7684\u6570\u636edata is ",t),this.setLevel(t.level)},e.prototype.setRoot=function(t){this._root=t},e.prototype.setLevel=function(t){this.level=t},e.prototype.getLevel=function(){return this.level},e.prototype.runScene=function(t){if(this._root){this._root.childrenCount>0&&this._root.removeAllChildren();var e=cc.instantiate(t);this._root.addChild(e)}},e._instance=null,r([s(cc.Node)],e.prototype,"settingNode",void 0),r([s(cc.Node)],e.prototype,"effecLayer",void 0),r([s(cc.Node)],e.prototype,"loadingLayer",void 0),r([s(cc.Node)],e.prototype,"maskLayer",void 0),e=o=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./consts/Consts":"Consts"}],Settings:[function(t,e,o){"use strict";cc._RF.push(e,"240a0XaUzdNeq1jR4f1e6m3","Settings");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../consts/Consts"),c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effectCon=null,e.musicCon=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.effectCon.on(cc.Node.EventType.TOUCH_START,this.tapEffect,this),this.musicCon.on(cc.Node.EventType.TOUCH_START,this.tapMusic,this),i.MusicState.musicState===i.eType.ON?(this.musicCon.getChildByName("musicOn").active=!0,this.musicCon.getChildByName("musicOff").active=!1):(this.musicCon.getChildByName("musicOn").active=!1,this.musicCon.getChildByName("musicOff").active=!0,cc.audioEngine.stopMusic()),i.MusicState.effectState===i.eType.ON?(this.effectCon.getChildByName("effectOn").active=!0,this.effectCon.getChildByName("effectOff").active=!1):(this.effectCon.getChildByName("effectOn").active=!1,this.effectCon.getChildByName("effectOff").active=!0)},e.prototype.btnEvent=function(t,e){"back"===e&&this.node.getComponent(cc.Animation).play("settingOut")},e.prototype.settingOutOver=function(){cc.find("Controller").getComponent("SceneManager").LS=i.LayerState.NONE},e.prototype.tapEffect=function(){i.MusicState.effectState===i.eType.ON?(this.effectCon.getChildByName("effectOff").active=!0,this.effectCon.getChildByName("effectOn").active=!1,i.MusicState.effectState=i.eType.OFF):(this.effectCon.getChildByName("effectOff").active=!1,this.effectCon.getChildByName("effectOn").active=!0,i.MusicState.effectState=i.eType.ON),console.log("\u97f3\u6548\u5f00\u5173\u72b6\u6001",i.MusicState.effectState)},e.prototype.tapMusic=function(){i.MusicState.musicState===i.eType.ON?(this.musicCon.getChildByName("musicOff").active=!0,this.musicCon.getChildByName("musicOn").active=!1,i.MusicState.musicState=i.eType.OFF,cc.audioEngine.pauseMusic()):(this.musicCon.getChildByName("musicOff").active=!1,this.musicCon.getChildByName("musicOn").active=!0,i.MusicState.musicState=i.eType.ON,cc.audioEngine.resumeMusic()),console.log("\u80cc\u666f\u97f3\u4e50\u5f00\u5173\u72b6\u6001",i.MusicState.musicState)},e.prototype.onDestroy=function(){this.effectCon.off(cc.Node.EventType.TOUCH_START,this.tapEffect,this),this.musicCon.off(cc.Node.EventType.TOUCH_START,this.tapMusic,this)},r([a(cc.Node)],e.prototype,"effectCon",void 0),r([a(cc.Node)],e.prototype,"musicCon",void 0),e=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../consts/Consts":"Consts"}],UpCommand:[function(t,e,o){"use strict";cc._RF.push(e,"7ec644fmWVIvZA6oUKDGs0p","UpCommand");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.name="up",e}return n(e,t),e.prototype.execute=function(){},e.prototype.undo=function(){},e}(t("./Command").default);o.default=r,cc._RF.pop()},{"./Command":"Command"}],User:[function(t,e,o){"use strict";cc._RF.push(e,"30f92TNjMZE4K1az+tCWNBL","User");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,s=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=1,e.bestRecord=[{level:1,time:"00:00"}],e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.setBestRecord=function(t,e){var o,n=cc.sys.localStorage.getItem("my");if(console.log("localDataString is ",n),n&&""!==n&&"undefined"!==n)o=JSON.parse(n);else{var r=[];r.push({level:t,time:e}),cc.sys.localStorage.setItem("my",JSON.stringify(r)),console.log("\u521b\u5efa\u9996\u4e2a\u8bb0\u5f55\uff0c\u6dfb\u52a0\u5230\u672c\u5730\u5b58\u50a8\u4e86,\u5b58\u50a8\u6570\u636e\u662f\uff1a",cc.sys.localStorage.getItem("my")),o=JSON.parse(cc.sys.localStorage.getItem("my"))}if(t>1&&o&&o.length>0&&!o[t-1])o.push({level:t,time:e}),cc.sys.localStorage.setItem("my",JSON.stringify(o)),console.log("\u6dfb\u52a0\u5230\u672c\u5730\u5b58\u50a8\u4e86,\u5b58\u50a8\u6570\u636e\u662f\uff1a",cc.sys.localStorage.getItem("my"));else if(t>=1&&o&&o.length>0&&o[t-1].level===t){var i=o[t-1].time;"00:00"===i?o[t-1].time=e:this.convertTimeStringToNumber(i)>this.convertTimeStringToNumber(e)&&(o[t-1].time=e),cc.sys.localStorage.setItem("my",JSON.stringify(o))}},e.prototype.convertTimeStringToNumber=function(t){var e=t.split(":");return 60*Number(e[0])+Number(e[1])},e.prototype.getBestRecord=function(t){var e;if(console.log("\u672c\u5730\u5b58\u50a8\u4e2dmy is ",cc.sys.localStorage.getItem("my")),"undefined"===cc.sys.localStorage.getItem("my")||!cc.sys.localStorage.getItem("my"))return e=null,null;e=JSON.parse(cc.sys.localStorage.getItem("my"));for(var o=0;o<e.length;o++)if(e[o].level===t)return e[o]},e.prototype.setLevel=function(t){this.level=t},e.prototype.getLevel=function(){return this.level},e.prototype.start=function(){},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}]},{},["BackGroundAdapter","Ball","Game","GameController","Helloworld","Hole","Index","Land","Level","LoseHole","OverController","SceneManager","Consts","Command","InputHandler","JumpCommand","UpCommand","LevelItem","AudioManager","EventManager","ResourceManager","Settings","User"]);