window.__require=function t(e,o,r){function n(c,l){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var s="function"==typeof __require&&__require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}}var h=o[c]={exports:{}};e[c][0].call(h.exports,function(t){return n(e[c][1][t]||t)},h,h.exports,t,e,o,r)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<r.length;c++)n(r[c]);return n}({Ball:[function(t,e,o){"use strict";cc._RF.push(e,"f456apgH5tDNZryKWxISVJu","Ball");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,l=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.row=-1,e.col=-1,e.id=-1,e.brotherRow=-1,e.brotherCol=-1,e}return r(e,t),e.prototype.start=function(){},e=n([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"de22cJs7SVMUa96BPzASW1D","Game");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},i=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))(function(n,i){function c(t){try{a(r.next(t))}catch(t){i(t)}}function l(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?n(t.value):new o(function(e){e(t.value)}).then(c,l)}a((r=r.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,r,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(t){return function(e){return a([t,e])}}function a(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){c.label=i[1];break}if(6===i[0]&&c.label<n[1]){c.label=n[1],n=i;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(i);break}n[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,a=l.ccclass,s=l.property,h=t("./utils/Util"),u=t("./common/Global"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gridCon=null,e.gridModel=null,e.circleMode=null,e.lineAudio=null,e.initedPreNode=null,e.startVec=null,e.endVec=null,e.canMove=!0,e.lastTouchVec=null,e.moveStartColor=null,e.isPair=!1,e.levelData=null,e.currentId=-1,e.lastId=-1,e.isContinue=!1,e.isReStart=!1,e.curDir=-1,e.curMoveId=-1,e.curMoveColor=null,e.gtxArr=null,e.colorCircleArr=null,e}return r(e,t),e.prototype.start=function(){return i(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return this.gridArr=[],this.ballArr=[],this.map=[],this.gridMap=[],this.aArr=[],this.ballMap=[],this.movePath={},this.gtxArr=[],this.gridCon.on("touchstart",this.touchBegin,this),this.gridCon.on("touchmove",this.touchMove,this),this.gridCon.on("touchend",this.touchEnd,this),console.log("start start start"),t=this,[4,new Promise(function(t,e){cc.loader.loadRes("config/oneLevel.json",cc.JsonAsset,function(e,o){e||o&&(console.log("res is ",o),t(o))})})];case 1:return t.levelData=e.sent(),u.default.level||(u.default.level=1),console.log("------\x3e>",u.default.prefabBuffer),this.initGrid(),this.addGrphicsToNode(),this.initCircle(),[2]}})})},e.prototype.drawPath=function(){var t=this.gtxArr[0].getComponent(cc.Graphics);t.lineJoin=cc.Graphics.LineJoin.ROUND,t.lineCap=cc.Graphics.LineCap.ROUND,t.clear(),t.lineWidth=40,t.moveTo(this.aArr[0][0].x,this.aArr[0][0].y),t.strokeColor=new cc.Color(255,90,100,255),t.lineTo(60,100),t.lineTo(150,100),t.stroke()},e.prototype.addGrphicsToNode=function(){for(var t=0;t<this.levelData.json[u.default.level].length;t++){var e=new cc.Node;e.addComponent(cc.Graphics),this.gridCon.addChild(e),this.gtxArr.push(e.getComponent(cc.Graphics)),this.gtxArr[t].lineWidth=40,this.gtxArr[t].lineCap=cc.Graphics.LineCap.ROUND,this.gtxArr[t].lineJoin=cc.Graphics.LineJoin.ROUND}},e.prototype.initGrid=function(){for(var t=0;t<6;t++){this.aArr[t]=[],this.map[t]=[],this.gridMap[t]=[],this.ballMap[t]=[];for(var e=0;e<6;e++){var o=cc.instantiate(this.gridModel);console.log("tempX is ",o.width),console.log("tempY is ",o.height);var r=-this.gridCon.width/2+o.width/2+e*o.width,n=this.gridCon.height/2-o.height/2-t*o.height;o.getComponent("Grid").row=t,o.getComponent("Grid").col=e,o.getComponent("Grid").changeColor=!1,o.setPosition(cc.v2(r,n)),this.gridCon.addChild(o),this.gridArr.push(o),this.aArr[t][e]=new cc.Vec2(r,n),this.map[t][e]=0,this.gridMap[t][e]=o,this.ballMap[t][e]=null}}},e.prototype.initCircle=function(){var t=0===u.default.level?1:u.default.level;console.log("level is ",t);var e=this.levelData.json[t];console.log("dataArr is ",e);for(var o=0;o<e.length;o++)this.movePath[o]=[];if(e)for(var r=0;r<e.length;r++){var n=e[r],i=n.row,c=n.col,l=n.color,a=n.right,s=n.id,h=n.path,p=cc.instantiate(u.default.prefabBuffer[r]);this.addBallToGridCon(p,i,c,s,h,l,a.row,a.col);var d=cc.instantiate(u.default.prefabBuffer[r]);this.addBallToGridCon(d,a.row,a.col,s,h.reverse(),l,i,c)}else console.log("\u8fd9\u4e00\u5173\u7684\u6570\u636e\u8fd8\u6ca1\u6709\u656c\u8bf7\u671f\u5f85")},e.prototype.getPrefabInstanceAsync=function(t){return new Promise(function(e,o){cc.loader.loadRes("balls/"+t,function(t,r){t&&o("error");var n=cc.instantiate(r);e(cc.instantiate(n))})})},e.prototype.addBallToGridCon=function(t,e,o,r,n,i,c,l){t.getComponent("Ball").row=e,t.getComponent("Ball").col=o,t.getComponent("Ball").id=r,t.getComponent("Ball").path=n,t.getComponent("Ball").brotherRow=c,t.getComponent("Ball").brotherCol=l,t.color=new cc.Color(i[0],i[1],i[2],i[3]),t.setPosition(this.aArr[e][o]),this.map[e][o]=1,this.gridCon.addChild(t),this.ballArr.push(t),this.ballMap[e][o]=t},e.prototype.createRandom=function(t,e){return Math.floor(Math.random()*(e-t)+t)},e.prototype.btnEvent=function(t,e){switch(console.log("data is ",e),e){case"back":cc.director.loadScene("Index");break;case"reset":this.resetData()}},e.prototype.resetData=function(){for(var t=0;t<this.gridArr.length;t++){var e=this.gridArr[t];e.getComponent("Grid").changeColor&&(e.getComponent("Grid").setColor(new cc.Color(200,200,200)),e.getComponent("Grid").changeColor=!1)}for(t=0;t<this.levelData.json[u.default.level].length;t++)this.movePath[t]=[];for(t=0;t<this.gtxArr.length;t++){this.gtxArr[t].clear()}},e.prototype.touchMove=function(t){var e=this.getRowColByTouch(t),o=e.node;if(-1!==this.currentId&&this.movePath[this.currentId]){var r=this.movePath[this.currentId].length,n=this.movePath[this.currentId][r-1];if(1===Math.abs(n.x-e.p.x)&&1===Math.abs(n.y-e.p.y))this.canMove=!1;else e.p.x,n.x,e.p.y,n.y,e.p.x,e.p.y}this.canMove&&-1!==e.p.x&&-1!==e.p.y&&(console.log("map row col is ",this.map[e.p.x][e.p.y]),this.map[e.p.x][e.p.y]&&this.ballMap[e.p.x][e.p.y]?(this.ballMap[this.startVec.x][this.startVec.y]&&this.ballMap[e.p.x][e.p.y].getComponent("Ball").id===this.ballMap[this.startVec.x][this.startVec.y].getComponent("Ball").id?(o.getComponent("Grid").changeColor=!0,o.getComponent("Grid").pathId=this.currentId,this.isPair=!0,o.getChildByName("grid").color=new cc.Color(this.moveStartColor.getR(),this.moveStartColor.getG(),this.moveStartColor.getB(),this.moveStartColor.getA()),e.p.x===this.startVec.x&&e.p.y===this.startVec.y||cc.audioEngine.play(this.lineAudio,!1,1)):(console.log(this.curMoveId),this.isContinue&&this.curMoveId===this.ballMap[e.p.x][e.p.y].getComponent("Ball").id?(o.getComponent("Grid").changeColor=!0,o.getComponent("Grid").pathId=this.curMoveId,this.isPair=!0,o.getChildByName("grid").color=new cc.Color(this.moveStartColor.getR(),this.moveStartColor.getG(),this.moveStartColor.getB(),this.moveStartColor.getA()),cc.audioEngine.play(this.lineAudio,!1,1)):console.log("asdfa")),e.p.x===this.startVec.x&&e.p.y===this.startVec.y||!this.map[e.p.x][e.p.y]||(this.canMove=!1),this.canMove&&!h.default.isContainVec2(e.p,this.movePath[this.currentId])&&this.movePath[this.currentId].push(e.p)):o.getComponent("Grid").changeColor||this.isContinue?!o.getComponent("Grid").changeColor&&this.isContinue&&(-1!==this.curMoveId&&(o.getComponent("Grid").changeColor=!0,o.getComponent("Grid").setColor(this.curMoveColor),o.getComponent("Grid").pathId=this.curMoveId),this.canMove&&!h.default.isContainVec2(e.p,this.movePath[this.curMoveId])&&this.movePath[this.curMoveId].push(e.p)):(o.getComponent("Grid").changeColor=!0,o.getComponent("Grid").pathId=this.currentId,o.getChildByName("grid").color=new cc.Color(this.moveStartColor.getR(),this.moveStartColor.getG(),this.moveStartColor.getB(),this.moveStartColor.getA()),this.canMove&&!h.default.isContainVec2(e.p,this.movePath[this.currentId])&&this.movePath[this.currentId].push(e.p)))},e.prototype.touchBegin=function(t){var e=this.getRowColByTouch(t),o=e.node,r=this.ballMap[e.p.x][e.p.y];if(this.canMove=!0,r&&r.getComponent("Ball")&&(this.currentId=r.getComponent("Ball").id),console.log("currrentid is ",this.currentId," and lastid is ",this.lastId),this.currentId===this.lastId&&this.map[e.p.x][e.p.y]){for(var n=this.movePath[this.currentId].length,i=0;i<n;i++){var c=this.movePath[this.currentId][i],l=this.gridMap[c.x][c.y];l.getComponent("Grid").changeColor=!1,l.getChildByName("grid").color=new cc.Color(200,200,200)}this.movePath[this.currentId]=[],this.gtxArr[this.currentId].clear(),this.isReStart=!0,console.log("\u91cd\u65b0\u5212\u7ebf")}else if(!this.map[e.p.x][e.p.y]&&this.gridMap[e.p.x][e.p.y].getComponent("Grid").changeColor){this.canMove=!0,console.log("\u7ee7\u7eed\u753b\u7ebf"),this.isContinue=!0,-1!==this.gridMap[e.p.x][e.p.y].getComponent("Grid").pathId&&(this.currentId=this.gridMap[e.p.x][e.p.y].getComponent("Grid").pathId);var a=o.getComponent("Grid").pathId;this.curMoveId=a,this.curMoveColor=o.getComponent("Grid").getColor()}else r||(this.canMove=!1);if(this.startVec=e.p,h.default.isContainVec2(this.startVec,this.movePath[this.currentId])||this.movePath[this.currentId].push(this.startVec),-1!==e.p.x&&-1!==e.p.y&&null!=o&&this.canMove){var s=void 0;for(i=0;i<this.ballArr.length;i++)if(e.p.x===this.ballArr[i].getComponent("Ball").row&&e.p.y===this.ballArr[i].getComponent("Ball").col&&this.map[e.p.x][e.p.y]){var u=this.ballArr[i];(s=this.gridMap[e.p.x][e.p.y]).getComponent("Grid").changeColor=!0,s.getComponent("Grid").pathId=this.currentId,(p=s.getChildByName("grid")).color=new cc.Color(u.color.getR()/4,u.color.getG()/4,u.color.getB()/4,u.color.getA()/100),this.moveStartColor=p.color}if(this.isContinue){(s=this.gridMap[e.p.x][e.p.y]).getComponent("Grid").changeColor=!0,s.getComponent("Grid").pathId=this.currentId;var p=s.getChildByName("grid");this.moveStartColor=p.color}}return console.log("startVes is ",this.startVec),this.lastId=this.currentId,!0},e.prototype.touchEnd=function(t){console.log("touchend");var e=this.getRowColByTouch(t);this.endVec=e.p;e.node;var o=this.ballMap[e.p.x][e.p.y],r=-1;o&&o.getComponent("Ball")&&(r=o.getComponent("Ball").id),-1===r||h.default.isContainVec2(e.p,this.movePath[this.currentId])||this.movePath[r].push(e.p),this.isContinue=!1,this.isReStart=!1},e.prototype.onDestroy=function(){this.gridCon.off("touchstart",this.touchBegin,this),this.gridCon.off("touchmove",this.touchMove,this),this.gridCon.off("touchend",this.touchEnd,this),this.movePath={}},e.prototype.getRowColByTouch=function(t){for(var e=new cc.Vec2(-1,-1),o={p:null,node:null},r=(t.target,0);r<this.gridArr.length;r++){var n=this.gridArr[r];n.getBoundingBoxToWorld().contains(t.getLocation())&&(e.x=n.getComponent("Grid").row,e.y=n.getComponent("Grid").col,o.node=n)}return o.p=e,o},e.prototype.update=function(t){if(this.levelData&&this.levelData.json[u.default.level]){var e=this.levelData.json[u.default.level].length;console.log("movePath is ",this.movePath);for(var o=0;o<e;o++)if(console.log("movePath is ",this.movePath[o]),this.movePath[o].length>=2){this.levelData.json[u.default.level].length;var r,n=this.levelData.json[u.default.level][this.currentId];r=new cc.Color(n.color[0],n.color[1],n.color[2],n.color[3]),this.gtxArr[o].strokeColor=r;for(var i=this.movePath[this.currentId].length,c=0;c<i;c++){var l=this.aArr[this.movePath[this.currentId][c].x][this.movePath[this.currentId][c].y];0===c?this.gtxArr[o].moveTo(l.x,l.y):this.gtxArr[o].lineTo(l.x,l.y)}this.gtxArr[o].stroke()}}},n([s(cc.Node)],e.prototype,"gridCon",void 0),n([s(cc.Prefab)],e.prototype,"gridModel",void 0),n([s(cc.Prefab)],e.prototype,"circleMode",void 0),n([s(cc.AudioClip)],e.prototype,"lineAudio",void 0),e=n([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./common/Global":"Global","./utils/Util":"Util"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"c0fd5C48VZH5Js+b1GSMW6I","Global");var r=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))(function(n,i){function c(t){try{a(r.next(t))}catch(t){i(t)}}function l(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){t.done?n(t.value):new o(function(e){e(t.value)}).then(c,l)}a((r=r.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,r,n,i,c={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(t){return function(e){return a([t,e])}}function a(i){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(n=(n=c.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){c.label=i[1];break}if(6===i[0]&&c.label<n[1]){c.label=n[1],n=i;break}if(n&&c.label<n[2]){c.label=n[2],c.ops.push(i);break}n[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.preLoadPrefabs=function(t){return r(this,void 0,void 0,function(){var e,o,r,i=this;return n(this,function(c){switch(c.label){case 0:e=[],o=function(t){var o;return n(this,function(r){switch(r.label){case 0:return console.log("i is ",t),[4,o=new Promise(function(e,o){cc.loader.loadRes("balls/"+t,function(t,r){t&&o("error"),e(r);r.name;i.prefabBuffer.push(r)})})];case 1:return r.sent(),e.push(o),[2]}})},r=0,c.label=1;case 1:return r<this.totalColorCout?[5,o(r)]:[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return e.length>0&&Promise.all(e).then(function(){t()}),[2]}})})},t.level=1,t.prefabBuffer=[],t.totalColorCout=7,t}();o.default=i,cc._RF.pop()},{}],Grid:[function(t,e,o){"use strict";cc._RF.push(e,"2219exj5fxBs55k9nL4VufY","Grid");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,l=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.row=-1,e.col=-1,e.ctx=null,e.changeColor=!1,e.pathId=-1,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.setColor=function(t){this.node.getChildByName("grid").color=t},e.prototype.getColor=function(){return this.node.getChildByName("grid").color},e.prototype.start=function(){},e.prototype.onDestroy=function(){},e=n([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],Helloworld:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Helloworld");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,l=i.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){this.label.string=this.text},n([l(cc.Label)],e.prototype,"label",void 0),n([l],e.prototype,"text",void 0),e=n([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Home:[function(t,e,o){"use strict";cc._RF.push(e,"a0e93qow95IyKtPQzM4Y55d","Home");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,l=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},e.prototype.goIndex=function(){cc.director.loadScene("Index")},e=n([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],Index:[function(t,e,o){"use strict";cc._RF.push(e,"ac686aXMb9M7qPbQVX5bwxP","Index");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,l=i.property,a=t("./common/Global"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.page1=null,e.page2=null,e.page3=null,e.levelModel=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){console.log("index start"),this.levelArr=[],this.pageArr=[],this.pageArr.push(this.page1),this.pageArr.push(this.page2),this.pageArr.push(this.page3),this.addAllLevel()},e.prototype.addAllLevel=function(){for(var t=0,e=0;e<3;e++)for(var o=0;o<5;o++)for(var r=0;r<6;r++){t++;var n=cc.instantiate(this.levelModel),i=-this.page1.width/2+n.width/2+130*r,c=this.page1.height/2-n.height/2-125*o;this.levelArr.push(n),n.name=e+"_"+o+"_"+r,n.getChildByName("num").getComponent(cc.Label).string=t.toString(),n.on("touchstart",this.touchNodeItem,n),n.on("touchend",this.touchNodeItemend,n),n.setPosition(cc.v2(i,c)),this.pageArr[e].addChild(n)}},e.prototype.touchNodeItem=function(){if(this instanceof cc.Node){console.log(this.name);this.color=new cc.Color(125,125,125,100),this.setScale(1.1)}},e.prototype.touchNodeItemend=function(){if(this instanceof cc.Node){this.setScale(1);var t=this.name.split("_"),e=Number(t[0]),o=Number(t[1]),r=Number(t[2]);this.choosedLevel=0!==o?30*e+6*o+r+1:30*e+r+1,console.log("choosedLevel is ",this.choosedLevel),a.default.level=this.choosedLevel;var n=(new Date).getMilliseconds();a.default.prefabBuffer=[],a.default.preLoadPrefabs(function(){var t=(new Date).getMilliseconds();console.log("\u52a0\u8f7d\u9884\u5236\u4f53\u6d88\u8017",t-n,"ms"),cc.director.loadScene("Game")})}},n([l(cc.Node)],e.prototype,"page1",void 0),n([l(cc.Node)],e.prototype,"page2",void 0),n([l(cc.Node)],e.prototype,"page3",void 0),n([l(cc.Prefab)],e.prototype,"levelModel",void 0),e=n([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./common/Global":"Global"}],Pen:[function(t,e,o){"use strict";cc._RF.push(e,"cea523/ZgNFY4EL+tKAfvso","Pen");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(c=(i<3?n(c):i>3?n(e,o,c):n(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,l=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){this.gtx=this.node.getComponent(cc.Graphics),console.log("gtx is ",this.gtx),this.gtx&&(this.gtx.moveTo(0,0),this.gtx.lineTo(100,100),this.gtx.strokeColor=new cc.Color(255,200,100,255),this.gtx.stroke())},e=n([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],Util:[function(t,e,o){"use strict";cc._RF.push(e,"5862bfQ3x1PWZ3XzsI8UtfC","Util"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function t(){}return t.uniqueArr=function(t){return null},t.isContainVec2=function(t,e){for(var o=0;o<e.length;o++)if(e[o].x===t.x&&e[o].y===t.y)return!0;return!1},t}();o.default=r,cc._RF.pop()},{}]},{},["Ball","Game","Grid","Helloworld","Home","Index","Pen","Global","Util"]);